<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Notice Board</title>
    <link
        rel="stylesheet"
        href="https://unpkg.com/swiper/swiper-bundle.min.css"
    />
    <script defer src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
    <script defer src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100">
    <div class="h-[calc(100%-5rem)] relative overflow-hidden">
        <div class="swiper noticeSwiper h-full">
            <div class="swiper-wrapper" id="notice-wrapper">
                <!-- Dynamic notices will be injected here -->
            </div>
            <!-- Pagination -->
            <div class="swiper-pagination"></div>
        </div>
    </div>

    <script>
        // Fetch notices from API and populate Swiper slides
        async function fetchNotices() {
            const apiUrl = "https://api.example.com/notices"; // Replace with your API endpoint
            const noticeWrapper = document.getElementById('notice-wrapper');

            try {
                const response = await fetch(apiUrl);
                const notices = await response.json();

                notices.forEach(notice => {
                    const slide = document.createElement('div');
                    slide.className = 'swiper-slide bg-gradient-to-br from-white to-slate-50';
                    slide.innerHTML = `
                        <div class="flex flex-col p-6">
                            <div class="flex-1">
                                <p class="text-sm text-gray-500 mb-1">${new Date(notice.date).toLocaleDateString()}</p>
                                <h3 class="text-lg font-medium text-gray-800">${notice.title}</h3>
                                <p class="mt-2 text-gray-600 text-sm">${notice.description}</p>
                            </div>
                            <a href="${notice.link}" 
                                class="inline-flex items-center gap-2 text-indigo-600 hover:text-indigo-800 mt-4 px-4 py-2 bg-indigo-50 rounded-lg transition-colors duration-100 group"
                                target="_blank">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none"
                                    viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V7a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                                </svg>
                                <span class="text-sm">View PDF</span>
                            </a>
                        </div>
                    `;
                    noticeWrapper.appendChild(slide);
                });

                // Initialize Swiper after notices are loaded
                initializeSwiper();
            } catch (error) {
                console.error('Error fetching notices:', error);
            }
        }

        // Initialize Swiper with provided settings
        function initializeSwiper() {
            new Swiper('.noticeSwiper', {
                direction: 'vertical',
                loop: true,
                slidesPerView: 3,
                autoplay: {
                    delay: 3000,
                    disableOnInteraction: false,
                    pauseOnMouseEnter: true,
                },
                effect: 'slide',
                speed: 800,
                touchEventsTarget: 'container',
                touchRatio: 1,
                touchAngle: 45,
                breakpoints: {
                    320: {
                        height: 200,
                        slidesPerView: 1,
                    },
                    375: {
                        height: 250,
                        slidesPerView: 1,
                    },
                    768: {
                        slidesPerView: 1,
                        height: 300,
                    },
                    1024: {
                        height: 350,
                    },
                },
                on: {
                    touchStart: function () {
                        this.autoplay.stop();
                    },
                    touchEnd: function () {
                        this.autoplay.start();
                    },
                },
                pagination: {
                    el: '.swiper-pagination',
                    clickable: true,
                    type: 'bullets',
                    bulletActiveClass: 'swiper-pagination-bullet-active bg-indigo-600',
                },
                keyboard: {
                    enabled: true,
                    onlyInViewport: true,
                },
                mousewheel: {
                    sensitivity: 1,
                    releaseOnEdges: true,
                },
            });
        }

        // Fetch and display notices on page load
        fetchNotices();
    </script>
</body>
</html>